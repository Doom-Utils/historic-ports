# Makefile  - amp  audio mpeg player v0.7
# tomislav uzelac  1996,1997


#DEBUG = -DDEBUG

# ---- @OS_TYPE@/@ARCH_TYPE@ ----

CC = @CC@
DEFINES = @DEFINES@ 
CFLAGS = @CFLAGS@ ${DEFINES} ${DEBUG}
LDFLAGS = @LDFLAGS@

#
# uncomment both of these if you want profiling support
#
#PG = -pg
#LDFLAGS+= -pg

#
# you should probably leave these untouched ####################################
#

OBJ = dump.o formats.o getbits.o huffman.o layer3.o getdata.o misc2.o transform.o audio.o \
      args.o buffer.o audioIO.o position.o layer2.o rtbuf.o guicontrol.o util.o getopt.o getopt1.o

LIBS = -lm

all: amp

.PHONY: clean cleandist dep 
clean:
	rm -f *.o amp core

cleandist: clean
	rm -f *~ config.status config.cache config.log config.h Makefile .depend

distclean: cleandist

amp: $(OBJ) 
	$(CC) -o amp $(OBJ) $(LDFLAGS) $(LIBS) 

.c.o:
	$(CC) -c $(CFLAGS) $(GGDB) $(PG) $< 

.c.s:
	$(CC) -S $(CFLAGS) $(GGDB) $(PG) $< 

dep:
	gcc -MM ${DEFINES} ${DEBUG} *.c > .depend

#-include .depend
